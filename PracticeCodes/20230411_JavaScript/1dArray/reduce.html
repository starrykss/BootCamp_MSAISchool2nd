<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const initialValue = 1;
        const numbers = [1, 3, 6];

        function reducer(acc, cur_val) {
            document.write("acc : " + acc + ", current_value : " + cur_val + "<br/>");
            return acc + cur_val;
        }

        // map() 메서드 기능 구현 : 배열에서 각 아이템에서 가격(price) 데이터만을 이용하여 
        // reduce() 메서드로 10% 할인된 금액 구하기
        let items = [
            {name : 'MSI 프레스티지 15 A12UC', price: 1490000},
            {name : 'ASUS 비보북 17 X1702ZA-AU105', price : 768000},
            {name : '삼성전자 갤럭시북2 프로 NT950XEE-X71AR', price : 2351000},
            {name : '레노버 게이밍 3i 15IAH I5 3050Ti', price : 899000},
            {name : 'APPLE 2021 맥북프로16 MK183KH/A M1 Pro', price : 2815000},
            {name : 'DELL 인스피론 16 5620-UB05KR', price : 1290000}
        ];

        let price_of_products = [1490000, 768000, 2351000, 899000, 2815000];

        let discounted_price_of_products = price_of_products.reduce((acc, cur_val) => {
            acc.push(cur_val = cur_val - (cur_val * 0.1));
            return acc;
        }, []);

        document.write(discounted_price_of_products + "<br/>");

        // 특정 조건에 맞는 아이템만 선택 저장하는 방법
        let discounted_items = items.reduce((acc, cur_val, cur_index) => {
            if (cur_val['price'] < 1000000) {    // 가격이 1000000 이하인 아이템만 선택해서 저장하기
                acc.push(cur_val);
            }
            // console.log(`currentIndex : ${cur_index} : ${acc}`);
            return acc;
        }, []);

        for (var idx = 0; idx < discounted_items.length; idx++) {
            document.write(`name : ${discounted_items[idx]['name']}, price : ${discounted_items[idx]['price']} <br/>`);
        }

    </script>

</body>
</html>